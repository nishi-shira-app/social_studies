(this.webpackJsonpsocial_studies=this.webpackJsonpsocial_studies||[]).push([[0],{134:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(42),i=n.n(c),o=(n(134),n(24)),s=n.n(o),u=n(38),d=n(31),l=n(32),j=n(70),p=n(69),b=n(116),h=n(220),f=n(45),O=n(213),g=n(224),x=(n(61),n(82)),v=n(12),m=n(225),w=n(103),y=n.n(w),S=function(){function e(){Object(d.a)(this,e)}return Object(l.a)(e,null,[{key:"setWordData",value:function(e){var t=[];return y.a.get("https://sheets.googleapis.com/v4/spreadsheets/1zpWEP0dGEm0SMkGO8Et3Wo8TqwNCKOl_kfRTVZgRJbw/values/csv?key=AIzaSyD61LRLY0MGuJyIU9EQCb4KUDiFJRmxO1o").then((function(n){if(!Array.isArray(n.data.values))return t;var r=n.data.values;r.shift(),r.forEach((function(n){void 0!==e&&e!==n[1]||t.push({id:n[0],part:n[1],question:n[2],precautions:n[3],answer:n[4],notices:n[5]})})),sessionStorage.setItem("WORDS",JSON.stringify(t))})).catch((function(){return t}))}},{key:"getWordData",value:function(){var e=sessionStorage.getItem("WORDS"),t=[];return null!=e&&e.length>0&&JSON.parse(e).forEach((function(e){t.push({id:e.id,part:e.part,question:e.question,precautions:e.precautions,answer:e.answer,notices:e.notices})})),t}},{key:"getFavoriteWordData",value:function(){var e,t=[],n=JSON.parse(null!==(e=localStorage.getItem("favorite"))&&void 0!==e?e:"{}"),r=sessionStorage.getItem("WORDS"),a=[];return null!=r&&r.length>0?(a=JSON.parse(r),Array.isArray(n)&&n.forEach((function(e){if("Word"===e.category){var n=a.filter((function(t){return t.id===e.id}));n.length>0&&t.push({id:n[0].id,part:n[0].part,question:n[0].question,precautions:n[0].precautions,answer:n[0].answer,notices:n[0].notices})}})),t):t}},{key:"getFirstPart",value:function(){return this.getWordData().reduce((function(e,t){return e.includes(t.part)||e.push(t.part),e}),[])[0]}},{key:"getParts",value:function(){return this.getWordData().reduce((function(e,t){return e.includes(t.part)||e.push(t.part),e}),[])}},{key:"getYears",value:function(){return console.log(this.getWordData()),this.getWordData().reduce((function(e,t){return e.includes(t.year)||e.push(t.year),e}),[])}},{key:"getSentences",value:function(){return this.getWordData().reduce((function(e,t){var n={id:t.id,year:t.year,category:t.category,part:t.part,sentence:t.sentence,sentenceTrans:t.sentenceTrans};return e.some((function(e){return e.part===n.part&&e.sentence===n.sentence}))||e.push(n),e}),[])}}]),e}(),k=n(221),W=n(226),C=n(214),I=n(222),P=function(){function e(){Object(d.a)(this,e)}return Object(l.a)(e,null,[{key:"speech",value:function(e,t,n){var r=window.speechSynthesis.getVoices().filter((function(e){return e.lang===t}))[0],a=new SpeechSynthesisUtterance;a.text=e,a.lang=t,a.voice=r,a.rate=n,window.speechSynthesis.speak(a)}}]),e}(),D=n(106),E=n.n(D),N=n(105),L=n.n(N),A=n(1),R=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).wordInputElement=void 0,a.wordInputElement=r.createRef(),a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){var e;null===(e=this.wordInputElement.current)||void 0===e||e.focus()}},{key:"componentDidMount",value:function(){var e;null===(e=this.wordInputElement.current)||void 0===e||e.focus()}},{key:"render",value:function(){var e=this,t={display:"inline-block",width:"100%",height:"20%"};return Object(A.jsx)("div",{className:"word-wrap",children:Object(A.jsxs)(m.a,{maxWidth:"sm",children:[Object(A.jsx)(k.a,{container:!0,children:Object(A.jsx)(k.a,{item:!0,xs:10,children:Object(A.jsx)(W.a,{variant:"subtitle1",children:this.props.question})})}),Object(A.jsx)(W.a,{variant:"h4",className:this.props.visibleWord,children:this.props.answer}),Object(A.jsx)("br",{}),Object(A.jsx)(k.a,{container:!0,direction:"row",children:Object(A.jsx)(C.a,{inputRef:this.wordInputElement,error:!this.props.isInputWordCompleted,label:this.props.isInputWordCompleted?"OK":"input word",fullWidth:!0,value:this.props.inputWordString,variant:"outlined",onChange:function(t){e.props.changeInputWord(t.target.value.toLowerCase()),e.props.answer.toLowerCase()===t.target.value.toLowerCase()?(e.props.changeInputWordCompleted(!0),e.props.onClick(),P.speech("OK. "+e.props.answer,"en-US",1)):e.props.changeInputWordCompleted(!1)}})}),Object(A.jsx)("br",{}),Object(A.jsxs)(k.a,{container:!0,direction:"row",spacing:5,justifyContent:"center",alignItems:"center",children:[Object(A.jsx)(k.a,{item:!0,xs:5,children:Object(A.jsx)(I.a,{style:t,color:"primary",variant:"outlined",onClick:function(){var t;e.props.onClick(),null===(t=e.wordInputElement.current)||void 0===t||t.focus()},children:Object(A.jsx)(L.a,{})})}),Object(A.jsx)(k.a,{item:!0,xs:5,children:Object(A.jsx)(I.a,{style:t,variant:"outlined",onClick:function(){var t;P.speech(e.props.answer,"en-US",1),null===(t=e.wordInputElement.current)||void 0===t||t.focus()},children:Object(A.jsx)(E.a,{})})})]})]})})}}]),n}(r.Component),F=n(107),T=n.n(F),J=n(108),G=n.n(J),M=function(e){return Object(A.jsxs)(k.a,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-end",children:[Object(A.jsx)(I.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return e.onClickPrev()},disabled:0===e.index||!e.isViewPrev,children:Object(A.jsx)(T.a,{})}),Object(A.jsx)(I.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return e.onClickNext()},disabled:e.index>=e.maxPage-1||!e.isViewNext,children:Object(A.jsx)(G.a,{})})]})},q=n(109),U=n.n(q),V=n(110),z=n.n(V);function K(e){var t=Object(r.useState)(!1),n=Object(v.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(e.id),o=Object(v.a)(i,2),d=(o[0],o[1],function(){var t=Object(u.a)(s.a.mark((function t(){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,JSON.parse(null!==(n=localStorage.getItem("favorite"))&&void 0!==n?n:"{}");case 3:if(r=t.sent,!Array.isArray(r)){t.next=8;break}return t.abrupt("return",r.filter((function(t){return t.category===e.category&&t.id===e.id})).length>0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),l=function(){var t=Object(u.a)(s.a.mark((function t(){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(null!==(n=localStorage.getItem("favorite"))&&void 0!==n?n:"{}");case 2:if(r=t.sent,!Array.isArray(r)){t.next=8;break}return t.next=6,d().then((function(t){t?(r=r.filter((function(t){return t.category!==e.category||t.id!==e.id})),c(!1)):(r=r.concat(e),c(!0)),localStorage.setItem("favorite",JSON.stringify(r))}));case 6:t.next=10;break;case 8:c(!0),localStorage.setItem("favorite",JSON.stringify([e]));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){d().then((function(e){c(e)}))})),Object(A.jsx)(I.a,{variant:"contained",color:"primary",size:"small",onClick:l,children:a?Object(A.jsx)(U.a,{}):Object(A.jsx)(z.a,{})})}var B=n(4),Y=n(230),_=n(223),X=n(228),Q=n(218),Z=n(232),H=n(217),$=n(3),ee=n(229),te=n(231),ne=n(233),re=n(111),ae=n.n(re),ce=n(86),ie=n.n(ce),oe=n(112),se=n.n(oe),ue=n(113),de=n.n(ue),le=n(114),je=n.n(le),pe=n(234),be=function(e){var t=Object(r.useState)(!1),n=Object(v.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),o=Object(v.a)(i,2),s=o[0],u=o[1],d=e.categories,l=e.parts,j="70vw";Object(r.useEffect)((function(){if(d){var t=[];d.forEach((function(n){n.parts.includes(e.currentPart)?t.push(!0):t.push(!1)})),u(t)}}),[]);var p="MyCard",b={header:"".concat(p,"-header"),open:"".concat(p,"-open"),close:"".concat(p,"-close"),closeIcon:"".concat(p,"-closeIcon"),hide:"".concat(p,"-hide"),list:"".concat(p,"-list"),categories:"".concat(p,"-categories"),parts:"".concat(p,"-parts")},h=(Object($.a)("div")((function(e){var t;return t={},Object(B.a)(t,"&.".concat(b.header),{height:"4vh",backgroundColor:"#7A7A7A",marginBottom:"1vh"}),Object(B.a)(t,"&.".concat(b.open),{width:j}),Object(B.a)(t,"&.".concat(b.close),{width:"100%"}),Object(B.a)(t,"&.".concat(b.closeIcon),{marginTop:"16px",marginLeft:"16px"}),Object(B.a)(t,"&.".concat(b.hide),{display:"none"}),Object(B.a)(t,"&.".concat(b.list),{width:j}),Object(B.a)(t,"&.".concat(b.categories),{backgroundColor:"#333"}),Object(B.a)(t,"&.".concat(b.parts),{paddingLeft:"2em"}),t})),function(e){var t=[];s.forEach((function(e){t.push(!1)})),null!==e&&t.splice(e,1,!0),u(t)});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(ee.a,{className:"".concat(a?b.open:b.close," ").concat(b.header),children:[Object(A.jsx)(W.a,{variant:"h6",noWrap:!0,style:{flexGrow:1,textAlign:"center"},children:e.currentPart}),Object(A.jsx)(Y.a,{color:"inherit",className:a?b.hide:"","aria-label":"open drawer",edge:"end",onClick:function(){c(!a)},children:Object(A.jsx)(ae.a,{})})]}),Object(A.jsx)(_.a,{anchor:"right",open:a,onClose:function(){return c(!1)},children:Object(A.jsxs)("div",{className:b.list,children:[Object(A.jsx)(se.a,{className:b.closeIcon,onClick:function(){return c(!1)}}),Object(A.jsxs)(X.a,{component:"nav","aria-label":"secondary part",children:[d&&d.map((function(t,n){return Object(A.jsxs)("div",{children:[Object(A.jsxs)(Q.a,{className:b.categories,button:!0,onClick:function(){s[n]?h(null):h(n)},children:[Object(A.jsx)(te.a,{primary:t.category},"categoryText"),s[n]?Object(A.jsx)(de.a,{}):Object(A.jsx)(je.a,{})]},"category"+n),Object(A.jsx)(Z.a,{in:s[n],timeout:"auto",unmountOnExit:!0,children:Object(A.jsx)(X.a,{component:"div",disablePadding:!0,children:t.parts.map((function(r,a){return Object(A.jsxs)(Q.a,{button:!0,className:b.parts,onClick:function(){e.changeCurrentPart(r),c(!1),h(n)},children:[Object(A.jsx)(te.a,{primary:r.replaceAll(t.category,"").trim()},"subMenuText"+n+r+a),Object(A.jsx)(ne.a,{children:r===e.currentPart&&Object(A.jsx)(ie.a,{})},"subMenuIcon"+n+r+a)]},"subMenu"+n+r+a)}))},"subMenuList"+n)},"subMenu"+n)]},"categoryWrapper"+n)})),!d&&l&&l.map((function(t){return Object(A.jsxs)(Q.a,{button:!0,onClick:function(){e.changeCurrentPart(t),c(!1)},children:[Object(A.jsx)(te.a,{primary:t}),Object(A.jsx)(ne.a,{children:t===e.currentPart&&Object(A.jsx)(ie.a,{})})]},t)})),Object(A.jsx)(Q.a,{button:!0,onClick:function(){e.changeCurrentPart("favorite"),c(!1)},children:Object(A.jsx)(te.a,{primary:"favorite"})},"favorite")]},"menuList"),Object(A.jsx)(pe.a,{}),Object(A.jsx)(X.a,{component:"nav","aria-label":"thirdry speechSpeed",children:Object(A.jsxs)(Q.a,{children:[Object(A.jsx)(te.a,{primary:"voice speed"}),Object(A.jsx)(H.a,{min:.1,max:1,step:.1,value:e.speechSpeedRate,"aria-labelledby":"speech-speed-rate",valueLabelDisplay:"auto",onChange:function(t,n){var r=e.speechSpeedRate;"number"===typeof n&&(r=n),e.changeSpeechSpeedRate(r)}})]},"voiceSpeedListItem")},"voiceSpeedList")]})})]})},he=n(115),fe=function(){var e,t=null!==(e=localStorage.getItem("wordCurrentPart"))&&void 0!==e?e:S.getFirstPart(),n=localStorage.getItem("wordWordIndex")?Number(localStorage.getItem("wordWordIndex")):0,a=Object(r.useState)(S.getWordData().filter((function(e){return e.part===t}))),c=Object(v.a)(a,2),i=c[0],o=c[1],d=Object(r.useState)(n),l=Object(v.a)(d,2),j=l[0],p=l[1],b=Object(r.useState)(t),h=Object(v.a)(b,2),f=h[0],O=h[1],g=Object(r.useState)("word-hidden"),w=Object(v.a)(g,2),y=w[0],k=w[1],W=Object(r.useState)("word-hidden"),C=Object(v.a)(W,2),I=(C[0],C[1]),P=Object(r.useState)("word-hidden"),D=Object(v.a)(P,2),E=(D[0],D[1]),N=Object(r.useState)(!1),L=Object(v.a)(N,2),F=L[0],T=L[1],J=Object(r.useState)(!1),G=Object(v.a)(J,2),q=(G[0],G[1],Object(r.useState)("")),U=Object(v.a)(q,2),V=U[0],z=U[1],B=Object(r.useState)(""),Y=Object(v.a)(B,2),_=(Y[0],Y[1]),X=Object(r.useState)(.8),Q=Object(v.a)(X,2),Z=Q[0],H=Q[1],$=function(){if(j>0){k("word-hidden"),I("word-hidden"),E("word-hidden"),T(!1),z(""),_("");var e=j-1;p(e),localStorage.setItem("wordWordIndex",e.toString())}},ee=function(){if(j<i.length-1){k("word-hidden"),I("word-hidden"),E("word-hidden"),T(!1),z(""),_("");var e=j+1;p(e),localStorage.setItem("wordWordIndex",e.toString())}},te=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],f===t){e.next=21;break}if("favorite"!==t){e.next=8;break}return e.next=5,S.getFavoriteWordData();case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,S.getWordData().filter((function(e){return e.part===t}));case 10:n=e.sent;case 11:p(0),o(n),O(t),k("word-hidden"),E("word-hidden"),T(!1),z(""),_(""),localStorage.setItem("wordCurrentPart",t),localStorage.setItem("wordWordIndex","0");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=Object(he.useSwipeable)({onSwipedLeft:function(e){e.absX>=140&&ee()},onSwipedRight:function(e){e.absX>=140&&$()},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(r.useEffect)((function(){te(t)}),[]),Object(A.jsxs)(A.Fragment,{children:[f&&Object(A.jsx)(be,{categories:null,parts:S.getParts(),currentPart:f,changeCurrentPart:function(e){return te(e)},speechSpeedRate:Z,changeSpeechSpeedRate:function(e){return function(e){H(e)}(e)}}),Object(A.jsxs)(m.a,{maxWidth:"sm",children:[Object(A.jsx)(M,{index:j,maxPage:i.length,isViewPrev:!0,isViewNext:!0,onClickPrev:$,onClickNext:ee}),Object(A.jsx)("hr",{}),0==i.length&&Object(A.jsx)("p",{children:"no data"}),i.length>0&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",Object(x.a)(Object(x.a)({},ne),{},{children:Object(A.jsx)(R,{question:i[j].question,precautions:i[j].precautions,answer:i[j].answer,notices:i[j].notices,visibleWord:y,isInputWordCompleted:F,inputWordString:V,onClick:function(){return k("word-visible")},changeInputWordCompleted:function(e){return function(e){T(e)}(e)},changeInputWord:function(e){return function(e){z(e)}(e)}})})),Object(A.jsx)("hr",{}),Object(A.jsx)("div",{style:{textAlign:"center"},children:Object(A.jsx)(K,{category:"Word",part:f,id:i[j].id})})]})]})]})},Oe=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var r;Object(d.a)(this,n),r=t.call(this,e);var a="WordPage";switch(localStorage.getItem("currentPage")){case"WordPage":a="WordPage";break;case"GrammerPage":a="GrammerPage";break;case"WordGrammerPage":a="WordGrammerPage";break;case"WordTransPage":a="WordTransPage";break;case"GrammerWritingPage":a="GrammerWritingPage";break;case"GrammerWritingTestPage":a="GrammerWritingTestPage";break;default:a="WordPage"}return r.state={currentYear:"",currentPage:a,isLoaded:0},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.setWordData();case 2:return e.next=4,this.setState({isLoaded:1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(b.a)({palette:{primary:{main:f.a[800]},mode:"dark"}});return Object(A.jsxs)(h.a,{theme:e,children:[Object(A.jsx)(O.a,{}),0===this.state.isLoaded&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{style:{height:"100vh",width:"100vw",display:"table-cell",verticalAlign:"middle",textAlign:"center"},children:[Object(A.jsx)(g.a,{}),Object(A.jsx)("p",{children:"now loading..."})]})}),1===this.state.isLoaded&&Object(A.jsx)(A.Fragment,{children:"WordPage"===this.state.currentPage&&Object(A.jsx)(fe,{})})]})}}]),n}(a.a.Component),ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(Oe,{})}),document.getElementById("root")),ge()}},[[160,1,2]]]);
//# sourceMappingURL=main.5afbde6d.chunk.js.map